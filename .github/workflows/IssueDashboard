on:
  workflow-dispatch:

steps:
- name: 'Generate Dashboard'
  uses: ethomson/issue-dashboard@v1
  with:
    config: |
      title: 'Dashboard'
      output:
        format: html
        filename: 'dashboard.html'
      sections:
      - title: 'Pull Requests'
        widgets:
        - type: 'table'
          title: 'New Pull Requests (This Week)'
          issue_query: 'repo:libgit2/libgit2 is:open is:issue created:>{{ date("-30 days") }} sort:created-asc'
    token: ${{ github.token }}
